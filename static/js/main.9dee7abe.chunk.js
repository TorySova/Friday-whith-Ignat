(this.webpackJsonpfriday=this.webpackJsonpfriday||[]).push([[0],{20:function(e,t,r){e.exports={error:"Forgot_error__36tR6"}},21:function(e,t,r){e.exports={background:"Error404_background__xYzT_",textContainer:"Error404_textContainer__2KIjv",text:"Error404_text__2mE3p"}},22:function(e,t,r){e.exports={superInput:"SuperInput_superInput__hkUWb",errorInput:"SuperInput_errorInput__NTC8V",error:"SuperInput_error__2WgyC"}},23:function(e,t,r){e.exports={default:"SuperButton_default__26VM3",red:"SuperButton_red__3wPsZ"}},24:function(e,t,r){e.exports={checkbox:"SuperCheckbox_checkbox__2I_bw",spanClassName:"SuperCheckbox_spanClassName__2Gliw"}},41:function(e,t,r){e.exports={error:"Login_error__1XNev"}},43:function(e,t,r){e.exports={wrapper:"RecoverPassword_wrapper__2SXsk"}},50:function(e,t,r){},51:function(e,t,r){},75:function(e,t,r){"use strict";r.r(t);var n=r(0),c=r(1),s=r.n(c),a=r(18),o=r.n(a),i=(r(50),r(8)),j=(r(51),r(4)),u=r(21),l=r.n(u),b=function(){return Object(n.jsx)("div",{className:l.a.background,children:Object(n.jsx)("div",{className:l.a.textContainer,children:Object(n.jsxs)("div",{className:l.a.text,children:["\u041e\u0439!",Object(n.jsx)("br",{}),"\u0422\u0430\u043a\u043e\u0439 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b \u043d\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442..."]})})})},d=r(9),O=r(5),h=r(2),p=r(15),x=r(22),f=r.n(x),g=function(e){var t=e.onChange,r=e.onChangeText,c=e.onKeyPress,s=e.onEnter,a=e.error,o=(e.className,e.spanClassName),i=e.setError,j=Object(p.a)(e,["onChange","onChangeText","onKeyPress","onEnter","error","className","spanClassName","setError"]),u="".concat(f.a.error," ").concat(o||""),l=a?f.a.errorInput:f.a.superInput;return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("input",Object(h.a)({onChange:function(e){t&&t(e),r&&r(e.currentTarget.value),i&&i("")},onKeyPress:function(e){c&&c(e),"Enter"===e.key&&s&&s()},className:l},j)),a&&Object(n.jsx)("span",{className:u,children:a})]})},m=r(13),v=r.n(m),C=v.a.create({baseURL:"http://localhost:7542/2.0/"}),_=function(e){return C.post("auth/register",e)},E={isRegistered:!1},S=function(e){return{type:"REGISTER-REDUCER/IS-REGISTERED-AC",isRegistered:e}},k=function(){var e=s.a.useState(""),t=Object(d.a)(e,2),r=t[0],c=t[1],a=s.a.useState(""),o=Object(d.a)(a,2),i=o[0],u=o[1],l=s.a.useState(""),b=Object(d.a)(l,2),h=b[0],p=b[1],x=Object(O.b)();return Object(O.c)((function(e){return e.register.isRegistered}))?Object(n.jsx)(j.a,{to:"/login"}):Object(n.jsxs)("div",{children:[Object(n.jsxs)("div",{children:[Object(n.jsx)("p",{children:"\u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u043e\u0447\u0442\u0443:"}),Object(n.jsx)(g,{type:"text",placeholder:"e-mail",value:r,onChangeText:c})]}),Object(n.jsxs)("div",{children:[Object(n.jsx)("p",{children:"\u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c:"}),Object(n.jsx)(g,{type:"password",placeholder:"password",value:i,onChangeText:u})]}),Object(n.jsxs)("div",{children:[Object(n.jsx)("p",{children:"\u043f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c:"}),Object(n.jsx)(g,{type:"password",placeholder:"confirm the password",value:h,onChangeText:p})]}),Object(n.jsx)("button",{onClick:function(){var e;i===h?(x((e={email:r,password:i},function(t){_(e).then((function(e){201===e.status?t(S(!0)):(t(S(!1)),alert(e.status))})).catch((function(e){alert(e)}))})),c(""),u(""),p("")):alert("\u041f\u0430\u0440\u043e\u043b\u0438 \u043d\u0435 \u0441\u043e\u0432\u043f\u0430\u0434\u0430\u044e\u0442!")},children:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"})]})},w={user:{_id:"0",email:"",name:"test",avatar:"",publicCardPacksCount:0,created:new Date,updated:new Date,isAdmin:!1,verified:!1,rememberMe:!1,error:""}},N=v.a.create({baseURL:"http://localhost:7542/2.0/"}),R=function(e){return N.post("/auth/login",e)},y={isLoggedIn:!1,error:""},T=function(e){return{type:"login/SET_ERROR",error:e}},I=r(41),P=r.n(I),L=function(){var e=Object(O.c)((function(e){return e.login.isLoggedIn})),t=Object(O.c)((function(e){return e.login.error})),r=Object(O.b)(),s=Object(c.useState)(""),a=Object(d.a)(s,2),o=a[0],i=a[1],u=Object(c.useState)(""),l=Object(d.a)(u,2),b=l[0],p=l[1],x=Object(c.useState)(!1),f=Object(d.a)(x,2),m=f[0],v=f[1],C=Object(c.useCallback)((function(e){return i(e.currentTarget.value)}),[i]),_=Object(c.useCallback)((function(e){return p(e.currentTarget.value)}),[p]),E=Object(c.useCallback)((function(e){return v(e.currentTarget.checked)}),[v]),S=Object(c.useCallback)((function(){var e;r((e={email:o,password:b,rememberMe:m},function(t){return R(e).then((function(e){e.data.error?t(T(e.data.error)):(t({type:"profile/SET_PROFILE",user:e.data}),t({type:"login/SET_IS_LOGGED_IN",isLoggedIn:!0}))})).catch((function(e){t(T(e.response.data.error+" more details in the console")),console.log("Error:",Object(h.a)({},e))}))}))}),[o,b,m,r]);return e?Object(n.jsx)(j.a,{to:"/profile"}):Object(n.jsxs)("div",{children:[t?Object(n.jsx)("div",{className:P.a.error,children:t}):"",Object(n.jsx)("p",{children:"\u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u043e\u0447\u0442\u0443:"}),Object(n.jsx)(g,{type:"text",placeholder:"email",value:o,onChange:C}),Object(n.jsx)("p",{children:"\u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c:"}),Object(n.jsx)(g,{type:"password",placeholder:"password",value:b,onChange:_}),Object(n.jsxs)("p",{children:[Object(n.jsx)("input",{type:"checkbox",checked:m,onChange:E})," remember me"]}),Object(n.jsx)("p",{children:Object(n.jsx)("button",{onClick:S,children:"login"})})]})},D=r(30),G=r.n(D),F=r(42),U=v.a.create({baseURL:"https://neko-back.herokuapp.com/2.0/"}),A=function(e,t){return U.post("/auth/set-new-password",{resetPasswordToken:e,password:t})},B={loading:!1,success:!1,error:""},K=function(e){return{type:"setPassword/SET_LOADING",loading:e}},M=function(e){return{type:"setPassword/SET_ERROR",error:e}},J=function(){return Object(n.jsx)("div",{children:"Loading..."})},V=r(20),W=r.n(V),X=s.a.memo((function(e){var t=e.pass,r=e.setPass,c=e.pass2,s=e.setPass2,a=e.setPassCallback,o=e.loading,i=e.error;return Object(n.jsxs)(n.Fragment,{children:[i&&Object(n.jsx)("div",{className:W.a.error,children:i}),Object(n.jsx)("div",{children:Object(n.jsx)(g,{value:t,onChangeText:r})}),Object(n.jsx)("div",{children:Object(n.jsx)(g,{value:c,onChangeText:s})}),Object(n.jsx)("div",{children:Object(n.jsx)("button",{onClick:a,disabled:o,children:"\u0423\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c"})})]})})),$=s.a.memo((function(){var e=Object(c.useState)(""),t=Object(d.a)(e,2),r=t[0],s=t[1],a=Object(c.useState)(""),o=Object(d.a)(a,2),i=o[0],u=o[1],l=Object(j.g)().token,b=Object(O.b)(),h=Object(c.useCallback)((function(){return b(function(e,t,r){return function(){var n=Object(F.a)(G.a.mark((function n(c){return G.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(c(K(!0)),t===r){n.next=6;break}c(M("Passwords don't match!")),c(K(!1)),n.next=7;break;case 6:return n.abrupt("return",A(e,t).then((function(){c({type:"setPassword/SET_SUCCESS",success:!0})})).catch((function(e){c(M(e.response.data.error+" more details in the console")),console.log("Error: ",e.response.data.error)})).finally((function(){c(K(!1))})));case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}(l,r,i))}),[r,i,b]),p=Object(O.c)((function(e){return e.setPassword})),x=p.loading,f=p.error;return Object(n.jsxs)(n.Fragment,{children:[x&&Object(n.jsx)(J,{}),Object(n.jsx)(X,{pass:r,setPass:s,pass2:i,setPass2:u,setPassCallback:h,loading:x,error:f})]})})),z=function(){return Object(n.jsxs)("div",{children:[Object(n.jsx)("h1",{children:"\u0421\u043c\u0435\u043d\u0430 \u043f\u0430\u0440\u043e\u043b\u044f"}),Object(n.jsx)($,{})]})},H=function(){var e=Object(O.c)((function(e){return e.profile.user.name}));return Object(n.jsxs)("div",{children:["\u041f\u0440\u043e\u0444\u0430\u0439\u043b",Object(n.jsxs)("div",{children:["name: ",e]})]})},Y=v.a.create({baseURL:"https://neko-back.herokuapp.com/2.0/"}),Z=function(e){return Y.post("auth/forgot",{email:e,from:"test-front-admin <ai73a@yandex.by>",message:"<div style=\"background-color: lime; padding: 15px\">\n                    password recovery link: \n                        <a href='http://localhost:3000/#/set-new-password/$token$'>link</a>\n                    </div>\n                    "})},q={loading:!1,success:!1,error:""},Q=function(e){return{type:"forgot/SET_LOADING",loading:e}},ee=s.a.memo((function(e){var t=e.email,r=e.setEmail,c=e.forgot,s=e.loading,a=e.error;return Object(n.jsxs)(n.Fragment,{children:[a&&Object(n.jsx)("div",{className:W.a.error,children:a}),Object(n.jsx)("div",{children:Object(n.jsx)(g,{value:t,onChangeText:r,type:"email"})}),Object(n.jsx)("div",{children:Object(n.jsx)("button",{onClick:c,disabled:s,children:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"})})]})})),te=s.a.memo((function(){var e=Object(c.useState)(""),t=Object(d.a)(e,2),r=t[0],s=t[1],a=Object(O.c)((function(e){return e.forgot.error})),o=Object(O.b)(),i=Object(c.useCallback)((function(){return o(function(e){return function(t){return t(Q(!0)),Z(e).then((function(){t({type:"forgot/SET_SUCCESS",success:!0})})).catch((function(e){t({type:"forgot/SET_ERROR",error:e.response.data.error+" more details in the console"}),console.log("Error: ",e.response.data.error)})).finally((function(){t(Q(!1))}))}}(r))}),[r,o]),j=Object(O.c)((function(e){return e.forgot.loading}));return Object(n.jsxs)(n.Fragment,{children:[j&&Object(n.jsx)(J,{}),Object(n.jsx)(ee,{email:r,setEmail:s,forgot:i,loading:j,error:a})]})})),re=r(43),ne=r.n(re),ce=function(){var e=Object(O.c)((function(e){return e.forgot.success}));return Object(n.jsxs)("div",{className:ne.a.wrapper,children:[Object(n.jsx)("div",{children:Object(n.jsx)("h1",{children:"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u0430\u0440\u043e\u043b\u044f"})}),e?Object(n.jsx)("div",{children:"click the link in the message in your email"}):Object(n.jsx)(te,{})]})},se=r(23),ae=r.n(se),oe=function(e){var t=e.red,r=(e.className,Object(p.a)(e,["red","className"])),c="".concat(t?ae.a.red:ae.a.default," ").concat(ae.a.default);return Object(n.jsx)("button",Object(h.a)(Object(h.a)({className:c,onClick:function(){return alert("Hello!")}},r),{},{children:"click"}))},ie=r(24),je=r.n(ie),ue=function(e){e.type;var t=e.onChange,r=e.onChangeChecked,c=e.className,s=(e.spanClassName,e.children),a=Object(p.a)(e,["type","onChange","onChangeChecked","className","spanClassName","children"]),o="".concat(je.a.checkbox," ").concat(c||"");return Object(n.jsxs)("label",{className:je.a.spanClassName,children:[Object(n.jsx)("input",Object(h.a)({type:"checkbox",onChange:function(e){r&&r(e.currentTarget.checked),t&&t(e)},className:o},a)),s&&Object(n.jsx)("span",{className:je.a.spanClassName,children:s})]})},le=function(){return Object(n.jsxs)("div",{children:[Object(n.jsx)(g,{}),Object(n.jsx)(oe,{}),Object(n.jsx)(ue,{})]})},be="/check-in",de="/login",Oe="/new-password",he="/profile",pe="/recover-password",xe="/test",fe=function(){return Object(n.jsx)("div",{children:Object(n.jsxs)(j.d,{children:[Object(n.jsx)(j.b,{path:"/",exact:!0,render:function(){return Object(n.jsx)(j.a,{to:he})}}),Object(n.jsx)(j.b,{path:be,render:function(){return Object(n.jsx)(k,{})}}),Object(n.jsx)(j.b,{path:de,render:function(){return Object(n.jsx)(L,{})}}),Object(n.jsx)(j.b,{path:Oe,render:function(){return Object(n.jsx)(z,{})}}),Object(n.jsx)(j.b,{path:he,render:function(){return Object(n.jsx)(H,{})}}),Object(n.jsx)(j.b,{path:pe,render:function(){return Object(n.jsx)(ce,{})}}),Object(n.jsx)(j.b,{path:xe,render:function(){return Object(n.jsx)(le,{})}}),Object(n.jsx)(j.b,{render:function(){return Object(n.jsx)(b,{})}})]})})},ge=function(){return Object(n.jsxs)("div",{className:"header",children:[Object(n.jsx)("div",{className:"item",children:Object(n.jsx)(i.b,{to:be,children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"})}),Object(n.jsx)("div",{className:"item",children:Object(n.jsx)(i.b,{to:de,children:"\u041b\u043e\u0433\u0438\u043d"})}),Object(n.jsx)("div",{className:"item",children:Object(n.jsx)(i.b,{to:Oe,children:"\u041d\u043e\u0432\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c"})}),Object(n.jsx)("div",{className:"item",children:Object(n.jsx)(i.b,{to:he,children:"\u041f\u0440\u043e\u0444\u0430\u0439\u043b"})}),Object(n.jsx)("div",{className:"item",children:Object(n.jsx)(i.b,{to:pe,children:"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c"})}),Object(n.jsx)("div",{className:"item",children:Object(n.jsx)(i.b,{to:xe,children:"Test"})})]})};var me=function(){return Object(n.jsx)("div",{className:"App",children:Object(n.jsxs)(i.a,{children:[Object(n.jsx)(ge,{}),Object(n.jsx)(fe,{})]})})},ve=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,76)).then((function(t){var r=t.getCLS,n=t.getFID,c=t.getFCP,s=t.getLCP,a=t.getTTFB;r(e),n(e),c(e),s(e),a(e)}))},Ce=r(16),_e=r(44),Ee=Object(Ce.c)({profile:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"profile/SET_PROFILE":return Object(h.a)(Object(h.a)({},e),{},{user:t.user});default:return e}},login:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"login/SET_IS_LOGGED_IN":return Object(h.a)(Object(h.a)({},e),{},{isLoggedIn:t.isLoggedIn});case"login/SET_ERROR":return Object(h.a)(Object(h.a)({},e),{},{error:t.error});default:return e}},register:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REGISTER-REDUCER/IS-REGISTERED-AC":return Object(h.a)(Object(h.a)({},e),{},{isRegistered:t.isRegistered});default:return e}},forgot:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"forgot/SET_ERROR":return Object(h.a)(Object(h.a)({},e),{},{error:t.error});case"forgot/SET_LOADING":return Object(h.a)(Object(h.a)({},e),{},{loading:t.loading});case"forgot/SET_SUCCESS":return Object(h.a)(Object(h.a)({},e),{},{success:t.success});default:return e}},setPassword:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"setPassword/SET_ERROR":return Object(h.a)(Object(h.a)({},e),{},{error:t.error});case"setPassword/SET_LOADING":return Object(h.a)(Object(h.a)({},e),{},{loading:t.loading});case"setPassword/SET_SUCCESS":return Object(h.a)(Object(h.a)({},e),{},{success:t.success});default:return e}}}),Se=Object(Ce.d)(Ee,Object(Ce.a)(_e.a)),ke=Se;window.store=Se,o.a.render(Object(n.jsx)(O.a,{store:ke,children:Object(n.jsx)(me,{})}),document.getElementById("root")),ve()}},[[75,1,2]]]);
//# sourceMappingURL=main.9dee7abe.chunk.js.map